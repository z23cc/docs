# Git 核心操作

掌握了 Git 的基础概念后，我们来学习一些最常用的核心操作。

## 初始化仓库

有两种获取 Git 项目仓库的方式：

1.  **在现有目录中初始化仓库**:
    进入你的项目目录，然后执行：
    ```bash
    git init
    ```
    这会在当前目录下创建一个名为 `.git` 的子目录，包含所有必需的仓库文件。

2.  **克隆现有仓库**:
    如果你想获取一个已经存在的 Git 仓库（例如，GitHub 上的项目），可以使用 `git clone` 命令：
    ```bash
    git clone <仓库URL> [本地目录名]
    ```
    例如：
    ```bash
    git clone https://github.com/git/git.git my-git-project
    ```
    这会在 `my-git-project` 目录下创建一个 `.git` 目录，并拉取仓库的所有数据。

## 检查文件状态

使用 `git status` 命令可以查看哪些文件处于什么状态（未跟踪、已修改、已暂存等）。这是你最常用的命令之一。

```bash
git status
```

## 跟踪新文件 / 暂存已修改文件

使用 `git add` 命令开始跟踪一个新文件，或者把已修改的文件放入暂存区。

*   跟踪单个文件：
    ```bash
    git add <文件名>
    ```
*   跟踪多个文件：
    ```bash
    git add <文件1> <文件2> ...
    ```
*   跟踪当前目录下所有变化（新文件和修改过的文件）：
    ```bash
    git add .
    ```

## 提交更改

当你觉得暂存区的文件已经准备好可以提交了，使用 `git commit` 命令。

```bash
git commit -m "你的提交信息"
```
`-m` 选项后面跟着的是本次提交的说明信息，力求简洁明了。

如果你想跳过 `git add` 步骤，直接提交所有已跟踪文件的修改，可以使用 `-a` 选项（但它不会添加未跟踪的新文件）：

```bash
git commit -a -m "提交所有已跟踪文件的修改"
```

## 查看提交历史

使用 `git log` 命令可以按时间顺序列出所有的提交记录。

```bash
git log
```

`git log` 有很多选项可以定制输出格式，例如：

*   `--oneline`: 每个提交只显示一行。
*   `--graph`: 显示 ASCII 图形表示的分支合并历史。
*   `--pretty=format:"%h - %an, %ar : %s"`: 自定义输出格式。
*   `-p`: 显示每次提交所引入的差异（补丁）。

## 移除文件

要从 Git 中移除某个文件，你需要从已跟踪文件清单中移除（确切地说，是从暂存区域移除），然后提交。可以使用 `git rm` 命令完成此项工作，并连带从工作目录中删除指定的文件。

```bash
git rm <文件名>
```
然后提交这次更改：
```bash
git commit -m "移除 <文件名>"
```

如果只是想把文件从 Git 仓库中删除（停止跟踪），但仍然希望保留在当前工作目录中，可以使用 `--cached` 选项：

```bash
git rm --cached <文件名>
```

## 移动或重命名文件

Git 不显式跟踪文件移动操作。如果你在 Git 中重命名了某个文件，仓库中存储的元数据并不会体现出这是一次改名操作。不过 Git 很聪明，能推断出发生了什么。

要在 Git 中重命名文件，可以使用 `git mv` 命令：

```bash
git mv <旧文件名> <新文件名>
```
这相当于执行了以下三条命令：
```bash
mv <旧文件名> <新文件名>
git rm <旧文件名>
git add <新文件名>
```
然后提交即可。

这些是 Git 最基本、最常用的操作。熟练掌握它们是高效使用 Git 的关键。